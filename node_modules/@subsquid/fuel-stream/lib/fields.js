"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getFields = void 0;
const model_1 = require("./data/model");
/**
 * Get effective set of selected fields.
 */
function getFields(fields) {
    return {
        block: merge(model_1.DEFAULT_FIELDS.block, fields?.block),
        transaction: merge(model_1.DEFAULT_FIELDS.transaction, fields?.transaction),
        receipt: merge(model_1.DEFAULT_FIELDS.receipt, fields?.receipt),
        input: merge(model_1.DEFAULT_FIELDS.input, fields?.input),
        output: merge(model_1.DEFAULT_FIELDS.output, fields?.output),
    };
}
exports.getFields = getFields;
function merge(def, requested = {}) {
    let fields = {};
    for (let key in def) {
        if (requested[key] !== false) {
            fields[key] = def[key];
        }
    }
    for (let key in requested) {
        if (requested[key]) {
            fields[key] = true;
        }
    }
    return fields;
}
//# sourceMappingURL=fields.js.map